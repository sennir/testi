import"./style-rfZJKnZa.js";import{f as i}from"./fetch-wtUFcH3C.js";function r(){localStorage.removeItem("token"),window.location.href="/login-page.html"}document.getElementById("diaryForm").addEventListener("submit",async function(t){t.preventDefault();const e=new FormData(this),n={date:e.get("date"),mood:e.get("mood"),weight:e.get("weight"),sleep:e.get("sleep"),exerciseDuration:e.get("exerciseDuration"),exerciseIntensity:e.get("exerciseIntensity"),content:e.get("content")};try{(await fetch("https://hyteyksiloprojekti.northeurope.cloudapp.azure.com/api/diary",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify(n)})).ok?alert("Päiväkirjamerkintä tallennettu onnistuneesti!"):alert("Virhe tallennettaessa päiväkirjamerkintää.")}catch(o){console.error("Virhe:",o),alert("Jotain meni pieleen. Yritä uudelleen myöhemmin.")}});document.getElementById("logoutButton").addEventListener("click",function(t){t.preventDefault(),r()});async function a(){console.log("Hei täällä ollaan! Nyt pitäisi hakea käyttäjän tiedot");const t="https://hyteyksiloprojekti.northeurope.cloudapp.azure.com/api/auth/me",n={method:"GET",headers:{Authorization:"Bearer: "+localStorage.getItem("token")}};i(t,n).then(o=>{console.log(o),document.getElementById("name").innerHTML=o.user.username})}a();
